{% extends 'hrms/layout.html' %}
{% load static %}
{% block title %} HRM Leave Management {% endblock title %}

{% block content %}
<style>
    body, .main-panel, .content-wrapper, .sidebar, .navbar, .footer {
        background-color: black;
        color: white;
    }
    .navbar {
        background-color: #333333; /* Changed top bar color to dark gray */
    }
    .card {
        background-color: #333;
        border: 1px solid #444;
    }
    .card .card-body {
        background-color: #333;
        color: white;
    }
    .breadcrumb-item a {
        color: white;
    }
    .breadcrumb-item.active {
        color: #17a2b8; /* Info color */
    }
    .table thead th {
        background-color: #444;
        color: white;
    }
    .table tbody tr td {
        background-color: #555;
        color: white;
        border-color: #666;
    }
    .table tbody tr {
        border-color: #666;
    }
    .btn-outline-success {
        color: white;
        border-color: #28a745;
    }
    .btn-outline-success:hover {
        background-color: #28a745;
        border-color: #28a745;
        color: white;
    }
    .text-primary {
        color: #017cff !important;
    }
    .navbar, .footer {
        background-color: #222;
        border-top: 1px solid #444;
    }
    .text-center .text-primary i {
        color: white;
    }
</style>
<div class="main-panel">
    <div class="content-wrapper">
        <div class="row">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'hrms:dashboard' %}">Dashboard</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Leave Management</li>
                </ol>
            </nav>
            <div class="col-lg-12 grid-margin">
                <div class="card">
                    <div class="card-body">
                       <h4 class="text-center text-primary"><i class="fa fa-check-square-o">&emsp; Employee Leave Management </i></h4><hr>
                        <form class="form-group" method="POST">
                            {% csrf_token %}
                            <small class="mb-5">** All Fields are required</small><br>
                            <div class="table-responsive">
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Status</th>
                                            <th>Employee</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="py-1">{{form.start}}</td>
                                            <td>{{form.end}}</td>
                                            <td>{{form.status}}</td>
                                            <td>{{form.employee}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="text-center mt-3">
                                <button class="btn btn-rounded btn-outline-success"><i class="mdi mdi-check"></i>Submit</button>
                            </div>
                        </form><br>
                        <h4 class="text-center text-primary"><i class="fa fa-sign-in">&emsp; Approved Applications </i></h4><hr>
                        {% if leaves %}
                        <small class="text-center">This is a list of approved Staffers leaves application.</small>
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Start Date</th>
                                        <th>End Date</th>
                                        <th>Status</th>
                                        <th>Employee</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for leave in leaves %}
                                    <tr>
                                        <td class="py-1">{{leave.start}}</td>
                                        <td><strong>{{leave.end}}</strong></td>
                                        <td><strong>{{leave.status}}</strong></td>
                                        <td>{{leave.employee}}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                        {% else %}
                        <p class="lead">There are currently no leave application.</p>
                        {% endif %}   
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
