{% extends 'hrms/layout.html' %}
{% load static %}
{% block title %} HRM Dashboard {% endblock title %}
<!-- MAIN BODY START HERE -->
{% block content %}
<style>
    body, .main-panel, .content-wrapper, .navbar, .footer {
        background-color: black;
        color: white;
    }
    .card {
        background-color: #333;
        border: 1px solid #444;
    }
    .card .card-body {
        background-color: #333;
        color: white;
    }
    .table thead th {
        background-color: #444;
        color: white;
    }
    .table tbody tr td {
        background-color: #555;
        color: white;
        border-color: #666;
    }
    .table tbody tr {
        border-color: #666;
    }
    .btn-info {
        background-color: #17a2b8;
        border-color: #17a2b8;
        color: white;
    }
    .btn-info:hover {
        background-color: #138496;
        border-color: #117a8b;
        color: white;
    }
    .navbar, .footer {
        background-color: #222;
        border-top: 1px solid #444;
    }
    .img-fluid {
        background-color: white;
        border-radius: 50%;
    }
    .text-warning, .text-success, .text-info{
        color: white !important;
    }
</style>
<div class="main-panel">
    <div class="content-wrapper">
        <div class="row">
            <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 grid-margin stretch-card">
                <div class="card card-statistics">
                    <div class="card-body">
                        <div class="clearfix">
                            <div class="float-left">
                                <i class="mdi mdi-receipt text-warning icon-lg"></i>
                            </div>
                            <div class="float-right">
                                <p class="mb-0 text-right">Administrators</p>
                                <div class="fluid-container">
                                    <h3 class="font-weight-medium text-right mb-0">{{ admin_count }}</h3>
                                </div>
                            </div>
                        </div>
                        <p class="text-muted mt-3 mb-0">
                            <i class="mdi mdi-bookmark-outline mr-1" aria-hidden="true"></i> Administrators
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 grid-margin stretch-card">
                <div class="card card-statistics">
                    <div class="card-body">
                        <div class="clearfix">
                            <div class="float-left">
                                <i class="mdi mdi-poll-box text-success icon-lg"></i>
                            </div>
                            <div class="float-right">
                                <p class="mb-0 text-right">Departments</p>
                                <div class="fluid-container">
                                    <h3 class="font-weight-medium text-right mb-0">{{ dept_total }}</h3>
                                </div>
                            </div>
                        </div>
                        <p class="text-muted mt-3 mb-0">
                            <i class="mdi mdi-calendar mr-1" aria-hidden="true"></i> Available Departments
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 grid-margin stretch-card">
                <div class="card card-statistics">
                    <div class="card-body">
                        <div class="clearfix">
                            <div class="float-left">
                                <i class="mdi mdi-account-location text-info icon-lg"></i>
                            </div>
                            <div class="float-right">
                                <p class="mb-0 text-right">Employees</p>
                                <div class="fluid-container">
                                    <h3 class="font-weight-medium text-right mb-0">{{ emp_total }}</h3>
                                </div>
                            </div>
                        </div>
                        <p class="text-muted mt-3 mb-0">
                            <i class="mdi mdi-reload mr-1" aria-hidden="true"></i> Employee's Total Count
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12 grid-margin">
                <div class="card">
                    <div class="card-body">
                        <h4 class="card-title text-center">New Employees</h4>
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th>Image</th>
                                        <th>First name</th>
                                        <th>Last name</th>
                                        <th>Mobile</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for worker in workers %}
                                    <tr>
                                        <td class="font-weight-medium">
                                            <img src="{{ worker.thumb.url }}" class='img-fluid rounded-circle' alt="">
                                        </td>
                                        <td>{{ worker.first_name }}</td>
                                        <td>{{ worker.last_name }}</td>
                                        <td>{{ worker.mobile }}</td>
                                        <td><span><a href="{% url 'hrms:employee_view' pk=worker.id %}" class="btn btn-sm btn-info">View</a></span></td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
